<%-include ('../../../views/partials/user/header')%>
<%-include ('../../../views/user/profile/profile-partials/sidebar')%>

<style>
    .main-content {
        margin-left: 220px; /* sidebar width */
        padding: 90px 30px 30px;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background-color: #f8f9fa;
        min-height: 100vh;
    }

    .wallet-card {
        background: #fff;
        border-radius: 15px;
        padding: 25px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        margin-bottom: 30px;
    }

    .wallet-balance {
        font-size: 1.5rem;
        font-weight: bold;
        color: #28a745;
    }

    .transaction-card {
        background: #fff;
        border-radius: 12px;
        padding: 20px;
        margin-bottom: 15px;
        box-shadow: 0 2px 6px rgba(0,0,0,0.05);
        transition: transform 0.2s;
    }

    .transaction-card:hover {
        transform: translateY(-2px);
    }

    .transaction-type.credit {
        color: #28a745;
        font-weight: bold;
    }

    .transaction-type.debit {
        color: #dc3545;
        font-weight: bold;
    }

    .no-transactions {
        color: #6c757d;
        font-style: italic;
    }
</style>

<div class="main-content">
    <h1 class="mb-4">ðŸ’° Wallet</h1>

    <% if(userWallet){ %>
        <div class="wallet-card">
            <p class="wallet-balance">Balance: â‚¹ <%= userWallet.balance %> /-</p>
            <button class="btn btn-success mt-2" type="button">+ Add Money</button>
        </div>

        <h3 class="mb-3">Transactions</h3>
        <% if(userWallet.transactions && userWallet.transactions.length > 0){ %>
            <% userWallet.transactions.forEach((transaction)=>{ %>
                <div class="transaction-card">
                    <div class="d-flex justify-content-between">
                        <span class="transaction-type <%= transaction.type %>">
                            <%= transaction.type.charAt(0).toUpperCase() + transaction.type.slice(1) %>
                        </span>
                        <span class="text-muted" style="font-size: 0.9rem;">
                            <%= new Date(transaction.date).toDateString() %>
                        </span>
                    </div>
                    <p class="mt-2 mb-1">Amount: â‚¹ <strong><%= transaction.amount %></strong> /-</p>
                    <p class="text-secondary mb-0"><%= transaction.description %></p>
                </div>
            <% }) %>
        <% }else{ %>
            <p class="no-transactions">No transactions yet</p>
        <% } %>
    <% }else{ %>
        <div class="wallet-card">
            <p class="no-transactions">Wallet not found</p>
        </div>
    <% } %>
</div>

<%-include ('../../../views/partials/user/footer')%>
